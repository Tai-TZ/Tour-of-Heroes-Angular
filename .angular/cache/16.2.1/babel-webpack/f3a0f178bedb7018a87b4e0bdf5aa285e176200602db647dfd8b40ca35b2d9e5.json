{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../hero.service\";\nimport * as i2 from \"../message.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../hero-detail/hero-detail.component\";\nfunction HeroesComponent_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 7)(2, \"span\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function HeroesComponent_li_3_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const hero_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.delete(hero_r2));\n    });\n    i0.ɵɵtext(6, \"x\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const hero_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/detail/\", hero_r2.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(hero_r2.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", hero_r2.name, \" \");\n  }\n}\nexport class HeroesComponent {\n  //constructor: ham tao\n  constructor(HeroService, MessageService) {\n    this.HeroService = HeroService;\n    this.MessageService = MessageService;\n    this.heroes = [];\n  }\n  ngOnInit() {\n    this.getHeroes();\n  }\n  onSelect(hero) {\n    this.selectedHero = hero;\n    this.MessageService.add(`Heroes component: Selected hero id=${hero.id}`);\n  }\n  getHeroes() {\n    //subcribe được gọi để lắng nghe dữ liệu từ observable\n    this.HeroService.getHeroes().subscribe(heroes => this.heroes = heroes);\n  }\n  add(name) {\n    name = name.trim();\n    if (!name) {\n      return;\n    }\n    this.HeroService.addHero({\n      name\n    }).subscribe(hero => {\n      this.heroes.push(hero);\n    });\n  }\n  delete(hero) {\n    this.heroes = this.heroes.filter(h => h !== hero); //lọc list hero mới ko chứa hero truyền vào \n    this.HeroService.deleteHero(hero.id).subscribe();\n  }\n}\n_class = HeroesComponent;\n_class.ɵfac = function HeroesComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.HeroService), i0.ɵɵdirectiveInject(i2.MessageService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-heroes\"]],\n  decls: 12,\n  vars: 2,\n  consts: [[1, \"heroes\"], [4, \"ngFor\", \"ngForOf\"], [\"for\", \"new-hero\"], [\"id\", \"new-hero\"], [\"heroName\", \"\"], [\"type\", \"button\", 1, \"add-button\", 3, \"click\"], [3, \"hero\"], [3, \"routerLink\"], [1, \"badge\"], [\"type\", \"button\", \"title\", \"delete hero\", 1, \"delete\", 3, \"click\"]],\n  template: function HeroesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r5 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"My Heroes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"ul\", 0);\n      i0.ɵɵtemplate(3, HeroesComponent_li_3_Template, 7, 3, \"li\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\")(5, \"label\", 2);\n      i0.ɵɵtext(6, \"Hero name: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"input\", 3, 4);\n      i0.ɵɵelementStart(9, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function HeroesComponent_Template_button_click_9_listener() {\n        i0.ɵɵrestoreView(_r5);\n        const _r1 = i0.ɵɵreference(8);\n        ctx.add(_r1.value);\n        return i0.ɵɵresetView(_r1.value = \"\");\n      });\n      i0.ɵɵtext(10, \" Add new hero \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(11, \"app-hero-detail\", 6);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.heroes);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"hero\", ctx.selectedHero);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.RouterLink, i5.HeroDetailComponent],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\tvar __webpack_modules__ = ({\\n\\n\\n 116:\\n\\n\\n\\n\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/sass-loader/dist/cjs.js):\\\\nexpected \\\\\\\"{\\\\\\\".\\\\n   \\u2577\\\\n90 \\u2502 .add-button \\\\n   \\u2502             ^\\\\n   \\u2575\\\\n  src/app/heroes/heroes.component.scss 90:13  root stylesheet\\\");\\n\\n\\n })\\n\\n\\n \\t});\\n\\n\\n\\n \\t\\n\\n \\t// startup\\n\\n \\t// Load entry module and return exports\\n\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n\\n \\tvar __webpack_exports__ = {};\\n\\n \\t__webpack_modules__[116]();\\n\\n \\tresource = __webpack_exports__;\\n\\n \\t\\n\\n })()\\n;\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","HeroesComponent_li_3_Template_button_click_5_listener","restoredCtx","ɵɵrestoreView","_r4","hero_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","delete","ɵɵadvance","ɵɵpropertyInterpolate1","id","ɵɵtextInterpolate","ɵɵtextInterpolate1","name","HeroesComponent","constructor","HeroService","MessageService","heroes","ngOnInit","getHeroes","onSelect","hero","selectedHero","add","subscribe","trim","addHero","push","filter","h","deleteHero","ɵɵdirectiveInject","i1","i2","selectors","decls","vars","consts","template","HeroesComponent_Template","rf","ctx","ɵɵtemplate","HeroesComponent_li_3_Template","ɵɵelement","HeroesComponent_Template_button_click_9_listener","_r5","_r1","ɵɵreference","value","ɵɵproperty"],"sources":["/Users/tai/Desktop/Intern/tour-of-heroes/src/app/heroes/heroes.component.ts","/Users/tai/Desktop/Intern/tour-of-heroes/src/app/heroes/heroes.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Hero } from '../hero';\nimport { HeroService } from '../hero.service';\nimport { MessageService } from '../message.service';\n\n@Component({\n  selector: 'app-heroes',\n  templateUrl: './heroes.component.html',\n  styleUrls: ['./heroes.component.scss']\n})\n\nexport class HeroesComponent {\n\n  //constructor: ham tao\n  constructor(private HeroService: HeroService, private MessageService: MessageService) { }\n\n  ngOnInit(): void {\n    this.getHeroes()\n  }\n\n\n  heroes: Hero[] = [];\n  selectedHero?: Hero;\n\n  onSelect(hero: Hero): void {\n    this.selectedHero = hero;\n    this.MessageService.add(`Heroes component: Selected hero id=${hero.id}`)\n  }\n\n\n  getHeroes(): void {\n    //subcribe được gọi để lắng nghe dữ liệu từ observable\n    this.HeroService.getHeroes().subscribe(heroes => this.heroes = heroes)\n\n  }\n\n\n\n  add(name: string): void {\n    name = name.trim();\n    if (!name) { return; }\n    this.HeroService.addHero({ name } as Hero)\n      .subscribe(hero => {\n        this.heroes.push(hero);\n      });\n  }\n\n\n\n  delete(hero: Hero): void {\n    this.heroes = this.heroes.filter(h => h !== hero) //lọc list hero mới ko chứa hero truyền vào \n    this.HeroService.deleteHero(hero.id).subscribe()\n  }\n\n\n}","<h2>My Heroes</h2>\n<ul class=\"heroes\">\n  <li *ngFor=\"let hero of heroes\">\n    <a routerLink=\"/detail/{{hero.id}}\">\n      <span class=\"badge\">{{hero.id}}</span> {{hero.name}}\n    </a>\n\n    <button type=\"button\" class=\"delete\" title=\"delete hero\" (click)=\"delete(hero)\">x</button>\n  </li>\n</ul>\n\n\n<div>\n  <label for=\"new-hero\">Hero name: </label>\n  <input id=\"new-hero\" #heroName />\n  <button type=\"button\" class=\"add-button\" (click)=\"add(heroName.value); heroName.value=''\">\n    Add new hero\n  </button>\n</div>\n\n\n<app-hero-detail [hero]=\"selectedHero\"></app-hero-detail>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}